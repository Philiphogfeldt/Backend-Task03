@page
@model Backend_Task03.Pages.Accounts.DetailsModel
@inject Backend_Task03.Data.AccessControl AccessControl

@{
	ViewData["Title"] = "Details";
}

@if (AccessControl.LoggedInAccount.ID == Model.Account?.ID)
{
	<h1>Details</h1>

	<div>
		<h4>Account</h4>
		<hr />
		<dl class="row">
			<dt class="col-sm-2">
				@Html.DisplayNameFor(model => model.Account.OpenIDIssuer)
			</dt>
			<dd class="col-sm-10">
				@Html.DisplayFor(model => model.Account.OpenIDIssuer)
			</dd>
			<dt class="col-sm-2">
				@Html.DisplayNameFor(model => model.Account.OpenIDSubject)
			</dt>
			<dd class="col-sm-10">
				@Html.DisplayFor(model => model.Account.OpenIDSubject)
			</dd>
			<dt class="col-sm-2">
				@Html.DisplayNameFor(model => model.Account.Name)
			</dt>
			<dd class="col-sm-10">
				@Html.DisplayFor(model => model.Account.Name)
			</dd>
			<dt class="col-sm-2">
				@Html.DisplayNameFor(model => model.Account.Role)
			</dt>
			<dd class="col-sm-10">
				@Html.DisplayFor(model => model.Account.Role)
			</dd>
		</dl>
	</div>
	<div>
		<a asp-page="./Edit" asp-route-id="@Model.Account?.ID">Edit</a>
		@if (AccessControl.LoggedInAccountRole == "Admin")
		{
			<a asp-page="./Index">Back to List</a>
		}
	</div>
}
else
{
	<h1>
		"ACCESS DENIED"
	</h1>
}

@*<div>
	<h4>Reviews</h4>
	@foreach (var comment in Model.Beer.Reviews)
	{

		<div id="reviewGridCell">
			@comment.Account.Name said: "@comment.Comment" -about this beer and gave it @comment.Rating / 5

		</div>
	}
</div>*@

