@page
@model Backend_Task03.Pages.Accounts.DetailsModel
@inject Backend_Task03.Data.AccessControl AccessControl

@{
	ViewData["Title"] = "Details";
}

<header>
	<link rel="stylesheet" href="~/css/site.css" />
</header>

@if (AccessControl.LoggedInAccount.ID == Model.Account?.ID)
{
	<div class="normalBody">
		<h2>Details</h2>
		<div id="accountBodyGrid">

			<div id="accountleftGrid">
				<h4>Account</h4>
				<dl class="row">
					<dt class="col-sm-2">
						@Html.DisplayNameFor(model => model.Account.OpenIDIssuer)
					</dt>
					<dd class="col-sm-10">
						@Html.DisplayFor(model => model.Account.OpenIDIssuer)
					</dd>
					<dt class="col-sm-2">
						@Html.DisplayNameFor(model => model.Account.OpenIDSubject)
					</dt>
					<dd class="col-sm-10">
						@Html.DisplayFor(model => model.Account.OpenIDSubject)
					</dd>
					<dt class="col-sm-2">
						@Html.DisplayNameFor(model => model.Account.Name)
					</dt>
					<dd class="col-sm-10">
						@Html.DisplayFor(model => model.Account.Name)
					</dd>
					<dt class="col-sm-2">
						@Html.DisplayNameFor(model => model.Account.Role)
					</dt>
					<dd class="col-sm-10">
						@Html.DisplayFor(model => model.Account.Role)
					</dd>
				</dl>
				<a asp-page="./Edit" asp-route-id="@Model.Account?.ID">Edit</a>
				@if (AccessControl.LoggedInAccountRole == "Admin")
				{
					<a asp-page="./Index">Back to List</a>
				}
			</div>



			<div id="accountrightGrid">
				<h4>Reviews</h4>


				@foreach (var review in Model.AccountReviews)
				{
					<div id="accountReviewGridBox">
						<p>Beer</p>
						<p>@review.Beer.Name</p>
						<p>Comment</p>
						<p>@review.Comment</p>
						<p>Rating</p>
						<p>@review.Rating / 5</p>
					</div>
				}


			</div>

		</div>

	</div>

	
}
else
{
	<h1>
		"ACCESS DENIED"
	</h1>
}



